{% extends "base.html" %}
{% block content %}

{% with messages = get_flashed_messages() %}
{% if messages %}
<div class="box">
  <div class="notification is-info">
      {{ messages[0] }}
  </div>
</div>
{% endif %}
{% endwith %}

{% if title or description %}
<div class="box has-text-left">
{% if title %}
<h1>{{ title }}</h1>
{% endif %}

{% if description %}
<div class="box">
    <p>{{ description }}</p>
</div>
{% endif %}
</div>
{% endif %}


<div class="box has-text-left">
{{ render_posts(posts, False, True, True, False, True, False, True, True)|safe }}
</div>

{% if reposts|length > 0 %}
<div class="box has-text-left">
    <label class="label">Reposts</label>
    {{ render_posts(reposts, False, True, True, False, False, False, True, True)|safe }}
</div>
{% endif %}

{% if current_user.is_authenticated %}
{{ render_post_message("", "/p/{}".format(posts[0].id))|safe }}
{% endif %}

{% endblock %}