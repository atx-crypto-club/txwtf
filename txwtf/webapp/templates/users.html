{% extends "base.html" %}
{% block content %}

<div class="box header-bg-img" style="background-image: url('{{ user.header_image_url }}') ;">
  <h1 class="title">
    <div class="content has-text-left has-text-white">
      {{ user.header_text|safe }}
    </div>
  </h1>
</div>

<div class="columns">
  <div class="column is-one-quarter">
    <div class="box">
      {{ render_user_card(user)|safe }}
    </div>
    {% if current_user.id == user.id %}
    <a class="button" href="/edit-profile">Edit</a>
    {% endif %}
  </div>
  <div class="column has-text-left">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="box">
        <div class="notification is-info">
            {{ messages[0] }}
        </div>
    </div>
    {% endif %}
    {% endwith %}

    {{ render_posts(posts)|safe }}
  </div>
</div>

{% if current_user.id == user.id %}
{{ render_post_message()|safe }}
{% else %}
{{ render_post_message(user.email)|safe }}
{% endif %}

{% endblock %}